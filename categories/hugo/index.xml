<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>hugo - 分類 - 菠菜眾長</title><link>https://lruihao.cn/categories/hugo/</link><description>hugo - 分類 - 菠菜眾長</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>1024@lruihao.cn (Lruihao)</managingEditor><webMaster>1024@lruihao.cn (Lruihao)</webMaster><lastBuildDate>Tue, 05 Oct 2021 19:33:13 +0800</lastBuildDate><atom:link href="https://lruihao.cn/categories/hugo/" rel="self" type="application/rss+xml"/><item><title>Hugo 添加知乎卡片式链接 Shortcodes</title><link>https://lruihao.cn/posts/hugo-cardlink/</link><pubDate>Tue, 05 Oct 2021 19:33:13 +0800</pubDate><author>作者</author><guid>https://lruihao.cn/posts/hugo-cardlink/</guid><description><![CDATA[<a href="https://github.com/Lruihao/hugo-blog/commit/089c303693e806bff855ecf3fee110baa62b870b" target="_blank" rel="noopener noreffer"  class="card-link">
    <span class="card-link-backdrop"></span>
    <span class="card-link-content">
        <span class="card-link-text">
            <span class="card-link-title">知乎卡片式链接 Git 記錄</span>
            <span class="card-link-meta">
                <span class="card-link-url">
                    <svg class="Zi Zi--InsertLink" fill="currentColor" viewbox="0 0 24 24" width="17" height="17">
                        <path d="M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z" fill-rule="evenodd"></path>
                    </svg>
                </span>
                https://github.com/Lruihao/hugo-blog/commit/089c303693e806bff855ecf3fee110baa62b870b
            </span>
        </span>
        <span class="card-link-imageCell">
            
        </span>
    </span>
</a>
<div class="details admonition quote open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-quote-right fa-fw"></i>回顧<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">之前在使用 hexo 的時候也有用到，<a href="/posts/linkcard/" rel="">模仿知乎卡片式链接</a><br>
和之前的相比，優化之前是后加載，由 JS 在 瀏覽器處理，<br>
使用 shortcodes 方式后，則是在 GO 構建頁面的時候處理，效能上會好很多。</div>
        </div>
    </div>
<h2 id="源碼">源碼</h2>
<p>基於 LoveIt 主題的 Link Shortcodes, 主要改到以下幾個文件，<a href="https://github.com/Lruihao/hugo-blog/commit/089c303693e806bff855ecf3fee110baa62b870b" target="_blank" rel="noopener noreffer">完整提交記錄</a></p>
<pre><code>assets/css/custom.scss
assets/css/partial/cardlink.scss          # 卡片式鏈接樣式
layouts/partials/plugin/cardlink.html     # 卡片式鏈接模板
layouts/shortcodes/cardlink.html
static/images/card-link-bg.jpg
</code></pre>
<h2 id="使用">使用</h2>
<p>使用參數同 <a href="https://hugoloveit.com/zh-cn/theme-documentation-extended-shortcodes/#2-link" target="_blank" rel="noopener noreffer">LoveIt 擴展 Shortcodes - Link</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">cardlink</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://github.com/Lruihao/hugo-blog/commit/089c303693e806bff855ecf3fee110baa62b870b&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;知乎卡片式链接 Git 記錄&#34;</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div>]]></description></item><item><title>Hugo i18n 添加中文繁體翻譯</title><link>https://lruihao.cn/posts/hugo-i18n-zh-tw/</link><pubDate>Tue, 05 Oct 2021 19:14:45 +0800</pubDate><author>作者</author><guid>https://lruihao.cn/posts/hugo-i18n-zh-tw/</guid><description><![CDATA[<blockquote>
<p>工作上一直常用繁體，最近臨帖也都寫的繁體，所以博客的語言也想換成繁體，但是 LoveIt 主題沒有支持中文繁體。就只好自己添加了。</p>
</blockquote>
<h2 id="翻譯">翻譯</h2>
<p>屬於直譯，有些詞語可能並不符合現在臺灣或者香港那邊的說法。比如，<code>分類</code>好像臺灣常說<code>歸類</code>吧</p>
<p>新建 <code>i18n/zh-TW.toml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="c"># Translations for Traditional Chinese</span>
<span class="c"># 簡體中文的翻譯</span>
<span class="c"># https://gohugo.io/content-management/multilingual/#translation-of-strings</span>

<span class="c"># === baseof ==</span>
<span class="p">[</span><span class="nx">backToTop</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;回到頂部&#34;</span>

<span class="p">[</span><span class="nx">viewComments</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;查看評論&#34;</span>
<span class="c"># === baseof ==</span>

<span class="c"># === Post ===</span>
<span class="p">[</span><span class="nx">posts</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;文章&#34;</span>
<span class="c"># === Post ===</span>

<span class="c"># === Taxonomy ===</span>
<span class="p">[</span><span class="nx">allSome</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;所有{{ .Some }}&#34;</span>

<span class="p">[</span><span class="nx">tag</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;標籤&#34;</span>

<span class="p">[</span><span class="nx">tags</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;標籤&#34;</span>

<span class="p">[</span><span class="nx">category</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;分類&#34;</span>

<span class="p">[</span><span class="nx">categories</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;分類&#34;</span>

<span class="p">[</span><span class="nx">years</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;年度總結&#34;</span>
<span class="c"># === Taxonomy ===</span>

<span class="c"># === Pagination ===</span>
<span class="p">[</span><span class="nx">more</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;更多&#34;</span>
<span class="c"># === Pagination ===</span>

<span class="c"># === partials/header.html ===</span>
<span class="p">[</span><span class="nx">selectLanguage</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;選擇語言&#34;</span>

<span class="p">[</span><span class="nx">switchTheme</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;切換主題&#34;</span>
<span class="c"># === partials/header.html ===</span>

<span class="c"># === partials/footer.html ===</span>
<span class="p">[</span><span class="nx">poweredBySome</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;由 {{ .Hugo }} 強力驅動 | 主題 - {{ .Theme }}&#34;</span>
<span class="c"># === partials/footer.html ===</span>

<span class="c"># === partials/comment.html ===</span>
<span class="p">[</span><span class="nx">valineLang</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;zh-TW&#34;</span>

<span class="p">[</span><span class="nx">valinePlaceholder</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;你的評論 ...&#34;</span>

<span class="p">[</span><span class="nx">facebookLanguageCode</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;zh-TW&#34;</span>
<span class="c"># === partials/comment.html ===</span>

<span class="c"># === partials/assets.html ===</span>
<span class="p">[</span><span class="nx">search</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;搜索&#34;</span>

<span class="p">[</span><span class="nx">searchPlaceholder</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;搜索文章標題或內容...&#34;</span>

<span class="p">[</span><span class="nx">clear</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;清空&#34;</span>

<span class="p">[</span><span class="nx">cancel</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;取消&#34;</span>

<span class="p">[</span><span class="nx">noResultsFound</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;沒有找到結果&#34;</span>

<span class="p">[</span><span class="nx">lunrLanguageCode</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;zh&#34;</span>

<span class="p">[</span><span class="nx">lunrLanguageLib</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;lib/lunr/lunr.zh.js&#34;</span>

<span class="p">[</span><span class="nx">lunrSegmentitLib</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;lib/lunr/lunr.segmentit.js&#34;</span>

<span class="p">[</span><span class="nx">copyToClipboard</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;複製到剪貼板&#34;</span>

<span class="p">[</span><span class="nx">cookieconsentMessage</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;本網站使用 Cookies 來改善您的流覽體驗.&#34;</span>

<span class="p">[</span><span class="nx">cookieconsentDismiss</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;同意&#34;</span>

<span class="p">[</span><span class="nx">cookieconsentLink</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;瞭解更多&#34;</span>
<span class="c"># === partials/assets.html ===</span>

<span class="c"># === partials/plugin/share.html ===</span>
<span class="p">[</span><span class="nx">shareOn</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;分享到&#34;</span>
<span class="c"># === partials/plugin/share.html ===</span>

<span class="c"># === posts/single.html ===</span>
<span class="p">[</span><span class="nx">contents</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;目錄&#34;</span>

<span class="p">[</span><span class="nx">publishedOnDate</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;發佈於 {{ .Date }}&#34;</span>

<span class="p">[</span><span class="nx">includedInCategories</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;收錄於 {{ .Categories }}&#34;</span>

<span class="p">[</span><span class="nx">wordCount</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;約 {{ .Count }} 字&#34;</span>

<span class="p">[</span><span class="nx">readingTime</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;預計閱讀 {{ .Count }} 分鐘&#34;</span>

<span class="p">[</span><span class="nx">views</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;次閱讀&#34;</span>

<span class="p">[</span><span class="nx">author</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;作者&#34;</span>

<span class="p">[</span><span class="nx">updatedOnDate</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;更新於 {{ .Date }}&#34;</span>

<span class="p">[</span><span class="nx">readMarkdown</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;閱讀原始文檔&#34;</span>

<span class="p">[</span><span class="nx">back</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;返回&#34;</span>

<span class="p">[</span><span class="nx">home</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;主頁&#34;</span>

<span class="p">[</span><span class="nx">readMore</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;閱讀全文&#34;</span>
<span class="c"># === posts/single.html ===</span>

<span class="c"># === 404.html ===</span>
<span class="p">[</span><span class="nx">pageNotFound</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;頁面沒找到&#34;</span>

<span class="p">[</span><span class="nx">pageNotFoundText</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;抱歉，您要查找的頁面不存在。&#34;</span>
<span class="c"># === 404.html ===</span>

<span class="c"># === shortcodes/admonition.html ===</span>
<span class="p">[</span><span class="nx">note</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;注意&#34;</span>

<span class="p">[</span><span class="nx">abstract</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;摘要&#34;</span>

<span class="p">[</span><span class="nx">info</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;信息&#34;</span>

<span class="p">[</span><span class="nx">tip</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;技巧&#34;</span>

<span class="p">[</span><span class="nx">success</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;成功&#34;</span>

<span class="p">[</span><span class="nx">question</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;問題&#34;</span>

<span class="p">[</span><span class="nx">warning</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;警告&#34;</span>

<span class="p">[</span><span class="nx">failure</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;失敗&#34;</span>

<span class="p">[</span><span class="nx">danger</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;危險&#34;</span>

<span class="p">[</span><span class="nx">bug</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;Bug&#34;</span>

<span class="p">[</span><span class="nx">example</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;示例&#34;</span>

<span class="p">[</span><span class="nx">quote</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;引用&#34;</span>
<span class="c"># === shortcodes/admonition.html ===</span>

<span class="c"># === shortcodes/version.html ===</span>
<span class="p">[</span><span class="nx">new</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;新增&#34;</span>

<span class="p">[</span><span class="nx">changed</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;更改&#34;</span>

<span class="p">[</span><span class="nx">deleted</span><span class="p">]</span>
<span class="nx">other</span> <span class="p">=</span> <span class="s2">&#34;刪除&#34;</span>
<span class="c"># === shortcodes/version.html ===</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="配置">配置</h2>
<p>打開 <code>config.toml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">defaultContentLanguage</span> <span class="p">=</span> <span class="s2">&#34;zh-tw&#34;</span>
</code></pre></td></tr></table>
</div>
</div>]]></description></item><item><title>Hugo 友情連結模板</title><link>https://lruihao.cn/posts/hugo-friends/</link><pubDate>Tue, 05 Oct 2021 14:14:10 +0800</pubDate><author>作者</author><guid>https://lruihao.cn/posts/hugo-friends/</guid><description><![CDATA[<div class="details admonition question open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-question-circle fa-fw"></i>過程<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">以前的 hexo 博客是自己寫的友鏈模板，換到 hugo 後想著在網上隨便找一個範本用著就好，然而並沒有自己想要的 layout, 幾乎都是使用 shortcodes 的，代碼風格有點問題且 shortcodes 作為友鏈添加的方式是真的麻煩。就只好自己寫羅。</div>
        </div>
    </div>
<a href="https://lruihao.cn/friends/" target="_blank" rel="noopener noreffer"  class="card-link">
    <span class="card-link-backdrop"></span>
    <span class="card-link-content">
        <span class="card-link-text">
            <span class="card-link-title">友情鏈接範本</span>
            <span class="card-link-meta">
                <span class="card-link-url">
                    <svg class="Zi Zi--InsertLink" fill="currentColor" viewbox="0 0 24 24" width="17" height="17">
                        <path d="M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z" fill-rule="evenodd"></path>
                    </svg>
                </span>
                https://lruihao.cn/friends/
            </span>
        </span>
        <span class="card-link-imageCell">
            
        </span>
    </span>
</a>
<h2 id="創建模板">創建模板</h2>
<p>開始之前去看了 hugo 的官網，再看了一下 go 模板的語法。</p>
<p>新建 <code>layouts/friends/single.html</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html">{{- define &#34;title&#34; }}{{ .Title }} - {{ .Site.Title }}{{ end -}}

{{- define &#34;content&#34; -}}
    {{- $params := .Scratch.Get &#34;params&#34; -}}
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;page single special&#34;</span><span class="p">&gt;</span>
        {{- /* Title */ -}}
        <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;single-title animated pulse faster&#34;</span><span class="p">&gt;</span>
            {{- .Title -}}
        <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

        {{- /* Subtitle */ -}}
        {{- with $params.subtitle -}}
            <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;single-subtitle&#34;</span><span class="p">&gt;</span>{{ . }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        {{- end -}}

        {{- /* Friend links */ -}}
        {{- $loading := resources.Get &#34;svg/loading.svg&#34; | minify -}}
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//at.alicdn.com/t/font_578712_g26jo2kbzd5qm2t9.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/friends/css/_friends.css&#34;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;friend-links&#34;</span><span class="p">&gt;</span>
            {{ range $index, $friend := .Site.Data.friends }}
                <span class="p">&lt;</span><span class="nt">a</span>
                    <span class="na">class</span><span class="o">=</span><span class="s">&#34;friend-link&#34;</span>
                    <span class="na">title</span><span class="o">=</span><span class="s">&#34;{{ $friend.discription }}&#34;</span>
                    <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ $friend.url | safeURL }}&#34;</span>
                    <span class="na">rel</span><span class="o">=</span><span class="s">&#34;external nofollow noopener noreferrer&#34;</span>
                    <span class="na">target</span><span class="o">=</span><span class="s">&#34;_blank&#34;</span><span class="p">&gt;</span>
                    {{ if $friend.avatar }}
                        <span class="p">&lt;</span><span class="nt">img</span>
                            <span class="na">class</span><span class="o">=</span><span class="s">&#34;friend-avatar lazyload&#34;</span> 
                            <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{ $loading.RelPermalink }}&#34;</span>
                            <span class="na">data-src</span><span class="o">=</span><span class="s">&#34;{{ $friend.avatar }}&#34;</span>
                            <span class="na">alt</span><span class="o">=</span><span class="s">&#34;{{ $friend.nickname }}&#34;</span> <span class="p">/&gt;</span>
                    {{ else }}
                        <span class="p">&lt;</span><span class="nt">svg</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;friend-avatar&#34;</span> <span class="na">aria-hidden</span><span class="o">=</span><span class="s">&#34;true&#34;</span><span class="p">&gt;</span>
                            <span class="p">&lt;</span><span class="nt">use</span> <span class="na">xlink:href</span><span class="o">=</span><span class="s">&#34;#icon-{{ add 1 $index }}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">use</span><span class="p">&gt;</span>
                        <span class="p">&lt;/</span><span class="nt">svg</span><span class="p">&gt;</span>
                    {{ end }}
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;friend-nickname&#34;</span> <span class="na">title</span><span class="o">=</span><span class="s">&#34;{{ $friend.nickname }}&#34;</span><span class="p">&gt;</span>@{{ $friend.nickname }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {{ end }}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        {{- /* Content */ -}}
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>
            {{- dict &#34;Content&#34; .Content &#34;Ruby&#34; $params.ruby &#34;Fraction&#34; $params.fraction &#34;Fontawesome&#34; $params.fontawesome | partial &#34;function/content.html&#34; | safeHTML -}}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        {{- /* Comment */ -}}
        {{- partial &#34;comment.html&#34; . -}}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{{- end -}}
</code></pre></td></tr></table>
</div>
</div><h2 id="模板樣式">模板樣式</h2>
<p>新建文件 <code>_friends.css</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="c">/**
</span><span class="c"> * @Description: Style of layout named &#39;Friend links&#39;.
</span><span class="c"> * @Author: lruihao.cn
</span><span class="c"> * @Updated:  2021/9/20 19:26
</span><span class="c"> */</span>
 
<span class="p">.</span><span class="nc">friend-links</span> <span class="p">{</span>
  <span class="k">margin-top</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
  <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space-between</span><span class="p">;</span>
  <span class="k">flex-wrap</span><span class="p">:</span> <span class="kc">wrap</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">576px</span><span class="o">)</span> <span class="p">{</span>
  <span class="p">.</span><span class="nc">friend-links</span> <span class="p">{</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space-around</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">friend-link</span> <span class="p">{</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">150</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">font-size</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mf">0.3</span><span class="p">);</span>
  <span class="k">box-sizing</span><span class="p">:</span> <span class="kc">border-box</span><span class="p">;</span> 
  <span class="k">box-shadow</span><span class="p">:</span> <span class="mi">3</span><span class="kt">px</span> <span class="mi">3</span><span class="kt">px</span> <span class="mi">5</span><span class="kt">px</span> <span class="mh">#aaa</span><span class="p">;</span>
  <span class="k">border-radius</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">border</span><span class="p">:</span><span class="kc">none</span><span class="p">;</span>
  <span class="k">transition-duration</span><span class="p">:</span> <span class="mf">0.3</span><span class="kt">s</span><span class="p">;</span>
  <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
  <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space-between</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">friend-link</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
  <span class="k">background</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
  <span class="k">transform</span><span class="p">:</span> <span class="nb">scale</span><span class="p">(</span><span class="mf">1.03</span><span class="p">);</span>
  <span class="k">box-shadow</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">3</span><span class="kt">px</span> <span class="mh">#aaa</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">friend-avatar</span> <span class="p">{</span>
  <span class="k">object-fit</span><span class="p">:</span> <span class="kc">cover</span><span class="p">;</span>
  <span class="k">object-position</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="cp">!important</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">150</span><span class="kt">px</span><span class="cp">!important</span><span class="p">;</span>
  <span class="k">border-radius</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">friend-nickname</span><span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
  <span class="k">position</span><span class="p">:</span> <span class="kc">relative</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#2bbc8a</span><span class="p">;</span>
  <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
  <span class="k">max-width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
  <span class="k">white-space</span><span class="p">:</span> <span class="kc">nowrap</span><span class="p">;</span>
  <span class="k">text-overflow</span><span class="p">:</span> <span class="kc">ellipsis</span><span class="p">;</span>
  <span class="k">line-height</span><span class="p">:</span> <span class="mi">18</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">friend-nickname</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#d480aa</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="友鏈頁面">友鏈頁面</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">hugo new friends/index.md
</code></pre></td></tr></table>
</div>
</div><ol>
<li>將 <code>_friends.css</code> 放到 <code>content/friends/css/</code></li>
<li>打開友鏈頁面 <code>content/friends/index.md</code>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-md" data-lang="md">---
title: &#34;友鏈&#34;
date: 2021-09-19T12:33:48+08:00
type: &#34;friends&#34;
---
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="數據">數據</h2>
<p>新建數據文件 <code>data/friends.yml</code>, 數據格式為：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># - nickname: 标题</span><span class="w">
</span><span class="w"></span><span class="c">#   avatar: 头像</span><span class="w">
</span><span class="w"></span><span class="c">#   url: 站点</span><span class="w">
</span><span class="w"></span><span class="c">#   discription: 描述</span><span class="w">
</span><span class="w"></span>- <span class="nt">nickname</span><span class="p">:</span><span class="w"> </span><span class="l">Lruihao</span><span class="w">
</span><span class="w">  </span><span class="nt">avatar</span><span class="p">:</span><span class="w"> </span><span class="l">https://gravatar.loli.net/avatar/3f985efb5907ca52944a3cd7edd51606?d=wavatar&amp;v=1.3.10</span><span class="w">
</span><span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">https://lruihao.cn</span><span class="w">
</span><span class="w">  </span><span class="nt">discription</span><span class="p">:</span><span class="w"> </span><span class="l">不怕萬人阻擋，只怕自己投降</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h2 id="結語">結語</h2>
<blockquote>
<p>這樣每次添加友鏈或者刪除友鏈衹要操作數據文件 <code>friends.yml</code> 就好，乾淨又衛生！<br>
友鏈頁面 <code>content/friends/index.md</code> 繼承了基礎頁面的功能，內容評論等</p>
</blockquote>]]></description></item><item><title>Hugo 本地管理 Shell 腳本</title><link>https://lruihao.cn/posts/hugo-admin/</link><pubDate>Mon, 04 Oct 2021 23:49:00 +0800</pubDate><author>作者</author><guid>https://lruihao.cn/posts/hugo-admin/</guid><description><![CDATA[<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw"></i>摘要<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">在使用 hugo 寫博客的過程中會使用到一些命令，包括 Git 的使用也會用到 Git 命令，但是這些命令我感覺知道就好，沒必要因輸入命令儿增加寫博客和部署博客的額外工作。<br>
自然要想辦法簡化這些過程，Git 還好有 SourceTree 等工具，Hugo 卻沒有，也懶得去網絡上找類似以前 hexo 有 hexo-admin 的插件可以讓大家在瀏覽器寫博客，因為我覺得這和靜態博客初衷背道而馳，於是我就折中方案，寫了一個滿足日常需求的 Shell 腳本，生成管理本地博客。</div>
        </div>
    </div>
<h2 id="實現">實現</h2>
<p>一共六個腳本，防止 <code>hugo-site/_localadmin/</code> 下</p>
<pre><code>_localadmin/
  ├── auto_push.sh       # 自動化提交源碼
  ├── hugo_builder.sh    # 構建 hugo 命令
  ├── hugo_main.sh       # 主介面入口
  ├── hugo_server.sh     # 啟動本地服務
  ├── post_generator.sh  # 創建文章
  └── public_async.sh    # 同步 public 子模組
</code></pre>
<h3 id="post_generatorsh">post_generator.sh</h3>
<ol>
<li>輸入文章名稱 (建議使用英文)</li>
<li>文章是否會插入圖片等資源 (默認：否)</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="c1">#author: Lruihao</span>
<span class="nb">cd</span> ..
<span class="nb">read</span> -p <span class="s2">&#34;Please enter the article name: &#34;</span> postName
<span class="k">if</span> <span class="o">[</span> -z <span class="nv">$postName</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;The article name is required!&#34;</span>
<span class="k">else</span>
  <span class="nb">read</span> -p <span class="s2">&#34;Will there be pictures in this article? [y/n]...&#34;</span> choice
  <span class="k">if</span> <span class="o">[</span> <span class="nv">$choice</span> <span class="o">=</span> <span class="s2">&#34;y&#34;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
    hugo new posts/<span class="nv">$postName</span>/index.md
  <span class="k">else</span>
    hugo new posts/<span class="nv">$postName</span>.md
  <span class="k">fi</span>
<span class="k">fi</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="hugo_serversh">hugo_server.sh</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ..
hugo server --disableFastRender
</code></pre></td></tr></table>
</div>
</div><h3 id="hugo_buildersh">hugo_builder.sh</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ..
hugo --minify
</code></pre></td></tr></table>
</div>
</div><h3 id="public_asyncsh">public_async.sh</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ..
git submodule update --remote 
git add public
git commit -m <span class="s2">&#34;Feat: Update public module commit id&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="auto_pushsh">auto_push.sh</h3>
<p>不輸入 Git 提交訊息會使用腳本中默認訊息 <code>Docs: 『菠菜眾長』内容更新 YYYY-MM-DD week hh:mm::ss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="c1">#author: Lruihao</span>
<span class="nb">cd</span> ..
<span class="c1"># 是否需要每次提交自動更新子模組</span>
<span class="c1"># git submodule update --remote </span>
<span class="c1"># git add public</span>
<span class="c1"># git commit -m &#34;Feat: Update public module commit id&#34;</span>
git add .
<span class="nb">read</span> -p <span class="s2">&#34;Please enter commit message: &#34;</span> commitMsg
<span class="k">if</span> <span class="o">[</span> -z <span class="nv">$commitMsg</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
  <span class="nv">commitMsg</span><span class="o">=</span><span class="s2">&#34;Docs: 『菠菜眾長』内容更新 </span><span class="k">$(</span>date +<span class="s1">&#39;%F %a %T&#39;</span><span class="k">)</span><span class="s2">&#34;</span>
<span class="k">fi</span>
git commit -m <span class="s2">&#34;</span><span class="nv">$commitMsg</span><span class="s2">&#34;</span>
git push
</code></pre></td></tr></table>
</div>
</div><h3 id="hugo_mainsh">hugo_main.sh</h3>
<blockquote>
<p>可單獨執行子腳本也可以通過主介面來選擇序號執行</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="c1">#author: Lruihao</span>
<span class="nb">echo</span> <span class="s2">&#34;Please enter the serial number to work&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;--------------------------------------&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;1. post generator&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;2. hugo server&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;3. hugo build&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;4. public async&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;5. auto push&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;--------------------------------------&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;Press Ctrl+C to stop&#34;</span>

<span class="nb">read</span> num
<span class="k">case</span> <span class="nv">$num</span> in
  1<span class="o">)</span> 
    sh post_generator.sh
    <span class="p">;;</span>
  2<span class="o">)</span>
    sh hugo_server.sh
    <span class="p">;;</span>
  3<span class="o">)</span>
    sh hugo_builder.sh
    <span class="p">;;</span>
  4<span class="o">)</span>
    sh public_async.sh
    <span class="p">;;</span>
  5<span class="o">)</span>
    sh auto_push.sh
    <span class="p">;;</span>
  *<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&#34;There is no such serial number&#34;</span>
    <span class="p">;;</span>
<span class="k">esac</span>

<span class="nb">echo</span> <span class="s2">&#34;Press any key to continue...&#34;</span>
<span class="nb">read</span> x
clear
sh hugo_main.sh
</code></pre></td></tr></table>
</div>
</div><h2 id="使用">使用</h2>
<ol>
<li>將 <code>hugo_main.sh</code> 建立桌面快捷鍵</li>
<li>雙擊 <code>hugo_main.sh</code> 進入根據提示使用即可</li>
</ol>
<p>由於一般寫博客會便邊寫邊預覽，所以一般開兩個主介面窗口，如下圖：</p>
<blockquote>
<ul>
<li>一個選擇 <code>2</code> 啟動本地服務</li>
<li>一個用於生成文章，部署文章等</li>
</ul>
</blockquote>
<p><figure><a class="lightgallery" href="/posts/hugo-admin/images/hugo-admin1.png" title="Hugo Admin" data-thumbnail="/posts/hugo-admin/images/hugo-admin1.png" data-sub-html="<h2>Hugo Admin</h2><p>Hugo Admin</p>">
        
    </a><figcaption class="image-caption">Hugo Admin</figcaption>
    </figure></p>]]></description></item><item><title>Hugo 使用 Github Actions 部署到 Github Pages 和 腾讯云cos桶</title><link>https://lruihao.cn/posts/github-actions/</link><pubDate>Mon, 04 Oct 2021 23:46:49 +0800</pubDate><author>作者</author><guid>https://lruihao.cn/posts/github-actions/</guid><description><![CDATA[<div class="details admonition quote open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-quote-right fa-fw"></i>解決痛點<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">Github Actions 真是靜態博客的福音，有了它 hugo, hexo 等博客構建過程可以丟給 Github 的服務器幫我們做了。<br>
也就是説實現了在線寫靜態博客的需求。</div>
        </div>
    </div>
<h2 id="準備">準備</h2>
<p>工作流程設計到兩個倉庫和一個 cos 桶，例如：</p>
<blockquote>
<ul>
<li>Lruihao/hugo-blog          # Blog source repository</li>
<li>Lruihao/lruihao.github.io  # Github pages repository</li>
<li>blog-1256932288            # COS bucket</li>
</ul>
</blockquote>
<h2 id="github-actions">Github Actions</h2>
<h3 id="創建-workflows-任務">創建 workflows 任務</h3>
<p>創建 <code>hugo-site/.github/workflows/deploy.yml</code>, 這個文件會寫一些命令告訴 Github 在我們提交源碼的時候，它要幫我們做哪些事情。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Auto Deploy hugo</span><span class="w">
</span><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">push]</span><span class="w">
</span><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">Explore-GitHub-Actions</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Check out repository code</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="l">recursive </span><span class="w"> </span><span class="c"># Fetch Hugo themes (true OR recursive)</span><span class="w">
</span><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">         </span><span class="c"># Fetch all history for .GitInfo and .Lastmod</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Hugo</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="l">latest</span><span class="w">
</span><span class="w">          </span><span class="nt">extended</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build Hugo static files</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --minify</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to Github Pages</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">deploy_key</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GP_DEPLOY_KEY }}</span><span class="w">
</span><span class="w">          </span><span class="nt">external_repository</span><span class="p">:</span><span class="w"> </span><span class="l">Lruihao/lruihao.github.io</span><span class="w">
</span><span class="w">          </span><span class="nt">publish_branch</span><span class="p">:</span><span class="w"> </span><span class="l">main</span><span class="w">
</span><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w">
</span><span class="w">          </span><span class="nt">commit_message</span><span class="p">:</span><span class="w"> </span><span class="l">${{ github.event.head_commit.message }}</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install coscmd</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">sudo pip install coscmd</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Configure coscmd</span><span class="w">
</span><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">COS_SECRET_ID</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.COS_SECRET_ID }}</span><span class="w">
</span><span class="w">          </span><span class="nt">COS_SECRET_KEY</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.COS_SECRET_KEY }}</span><span class="w">
</span><span class="w">          </span><span class="nt">COS_BUCKET_NAME</span><span class="p">:</span><span class="w"> </span><span class="l">blog-1256932288 </span><span class="w"> </span><span class="c"># Change for yourself</span><span class="w">
</span><span class="w">          </span><span class="nt">COS_BUCKET_REGION</span><span class="p">:</span><span class="w"> </span><span class="l">ap-chengdu    </span><span class="w"> </span><span class="c"># Change for yourself</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">coscmd config -a $COS_SECRET_ID -s $COS_SECRET_KEY -b $COS_BUCKET_NAME -r $COS_BUCKET_REGION</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to COS Bucket</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">coscmd upload -r -s --delete -f public/ /</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="配置-github-pages-密鑰">配置 Github Pages 密鑰</h3>
<ol>
<li>為了讓 Lruihao/hugo-blog 提交代碼后自動部署到 Lruihao/lruihao.github.io, 需要生成一對 ssh key.
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">ssh-keygen -t rsa -b <span class="m">4096</span> -C <span class="s2">&#34;</span><span class="k">$(</span>git config user.email<span class="k">)</span><span class="s2">&#34;</span> -f gh-pages -N <span class="s2">&#34;&#34;</span>
<span class="c1"># You will get 2 files:</span>
<span class="c1"># gh-pages.pub (public key)</span>
<span class="c1"># gh-pages     (private key)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>打開 Lruihao/hugo-blog 倉庫的 settings, 再点击 Secrets, 然後添加 private key, name 为 <code>GP_DEPLOY_KEY</code></li>
<li>打開 Lruihao/lruihao.github.io, 点击 Deploy keys, 添加 public key, name 隨意，<code>Allow write access</code> 一定要勾上，否則無法提交</li>
</ol>
<h3 id="配置-cos-密鑰">配置 COS 密鑰</h3>
<p>打開 Lruihao/hugo-blog 倉庫的 settings, 再点击 Secrets, 然後添加 COS 桶的 <code>secret_id</code> 和 <code>secret_key</code>:</p>
<ul>
<li>COS_SECRET_ID</li>
<li>COS_SECRET_KEY</li>
</ul>
<blockquote>
<p>至此，Github Pages 和 COS 都已經可以通過 Github Actions 自動部署了，有部署記錄后，<br>
打開 Lruihao/hugo-blog -&gt; Actions 可以看到構建過程和結果，構建失敗也會收到 Github 發給你的郵件。</p>
</blockquote>
<h2 id="cos-自動同步-備用">COS 自動同步 (備用)</h2>
<p>本小節內容和 Github Actions 無關，僅作為 COS 備用上傳方式。</p>
<ul>
<li>COSBrowser</li>
</ul>
<ol>
<li>下載 COS 官方軟件 COSBrowser</li>
<li>點開右上角 工具箱</li>
<li>選擇 文件同步</li>
<li>選擇 本地文件夹 eg. <code>hugo-site/public</code></li>
<li>選擇 存储桶目录</li>
<li>同步类型：單次同步、自動同步、定時同步</li>
</ol>
<blockquote>
<p>同步前先執行 hugo 構建命令，eg. <code>hugo --minify</code><br>
有 Github actions 選單次同步就好，在 Github 不好用時可用。</p>
</blockquote>]]></description></item><item><title>个人博客从 Hexo 迁移至 Hugo</title><link>https://lruihao.cn/posts/hexo-to-hugo/</link><pubDate>Sun, 03 Oct 2021 15:27:58 +0800</pubDate><author>作者</author><guid>https://lruihao.cn/posts/hexo-to-hugo/</guid><description><![CDATA[<blockquote>
<p>电脑升级 win 11 后，分盘操作存在 bug, 然后又不小心把装代码的盘格式化了，虽然都有备份到 github, 但是当时为了省事，hexo Node 安装的很多以来插件都没有备份，现在又现在不到了，所以 hexo 博客没办法完整复原，另外，早就觉得基于 Node 的 hexo 实在有些臃肿，且博客内容多了以后部署太慢，就干脆乘机换了好了，经过一段时间寻找，最终选择了基于 Go 的 hugo, 记录一下迁移过程及待办事项。</p>
</blockquote>
<h2 id="hugo-准备">Hugo 准备</h2>
<h3 id="概念">概念</h3>
<blockquote>
<p>Hugo is a fast and modern static site generator written in Go, and designed to make website creation fun again.</p>
</blockquote>
<p>那 hugo 基于编译语言 GO 构建，对于静态页面的构建肯定是碾压 hexo 的存在，其官方标语也是很直白 <code>&quot;The world’s fastest framework for building websites&quot;</code>, 作为先后使用过 hexo 和 hugo 的我来说，这确实名副其实。</p>
<ul>
<li><a href="https://gohugo.io" target="_blank" rel="noopener noreffer">gohugo</a></li>
</ul>
<h3 id="安装">安装</h3>
<p>hugo 提供了很多种安装方式，Git, Docker, Binary.<br>
个人电脑使用二进制安装是最方便快捷的，无需安装其他依赖。<br>
到 <a href="https://github.com/gohugoio/hugo/releases" target="_blank" rel="noopener noreffer">Hugo Releases</a> 下载对应的 windows 操作系统版本的 Hugo 二进制文件，玩就要玩全的，所以我就选择了扩展版本，此次选择的最新版为 <code>hugo_extended_0.88.1_Windows-64bit.zip</code>, 然后自行解压安装即可。</p>
<h3 id="生成站点">生成站点</h3>
<p>使用 Hugo 快速生成站点，比如希望生成到 <code>/path/to/site</code> 路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">hugo new site /path/to/site
</code></pre></td></tr></table>
</div>
</div><p>站点目录结构：</p>
<pre><code>▸ archetypes/    # 配置文章模板，相当于 hexo 的 scaffolds
▸ content/       # 文章页面内容，相当于 hexo 的 source
▸ data/          # 可存放一些 yaml, json, toml 格式的数据
▸ layouts/       # 页面布局源码，改造主题可不动主题源码
▸ static/        # 静态文件存放
  config.toml    # 站点配置文件，相当于 hexo 的 _config.yml
</code></pre>
<h3 id="创建文章">创建文章</h3>
<p>注： 路径要写以 <code>content/</code> 为根目录的相对路径</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">hugo new path/fileName
</code></pre></td></tr></table>
</div>
</div><h3 id="添加主题">添加主题</h3>
<p>添加主题的方式选用 Git 子模组的形式，为了日后快速升级，避免在使用 hexo 中因大量魔改 next 主题而导致难以升级的困扰。<br>
精挑细选最终选择了 <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer">LoveIt</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">git init
git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt
</code></pre></td></tr></table>
</div>
</div><p>在 <code>config.toml</code> 添加 <code>theme = &quot;LoveIt&quot;</code></p>
<h3 id="在本地启动网站">在本地启动网站</h3>
<p>使用以下命令启动网站:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">hugo serve --disableFastRender
</code></pre></td></tr></table>
</div>
</div><p>去查看 <code>http://localhost:1313</code></p>
<h3 id="hugo-build">hugo build</h3>
<p>使用以下命令生成静态文件，然后自己可手动选择部署到 github pages 或 COS 等服务器</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">hugo --minify
</code></pre></td></tr></table>
</div>
</div><h2 id="hugoloveit-使用">Hugo&amp;LoveIt 使用</h2>
<ul>
<li><a href="https://hugoloveit.com/zh-cn/theme-documentation-basics" target="_blank" rel="noopener noreffer">LoveIt 主题文档 - 基本概念</a></li>
</ul>
<p>写作指南</p>
<ul>
<li><a href="https://hugoloveit.com/zh-cn/theme-documentation-content/" target="_blank" rel="noopener noreffer">LoveIt 主题文档 - 内容</a></li>
<li><a href="https://hugoloveit.com/zh-cn/theme-documentation-built-in-shortcodes/" target="_blank" rel="noopener noreffer">LoveIt 主题文档 - 内置 Shortcodes</a></li>
<li><a href="https://hugoloveit.com/zh-cn/theme-documentation-extended-shortcodes/" target="_blank" rel="noopener noreffer">LoveIt 主题文档 - 扩展 Shortcodes</a></li>
</ul>
<h2 id="todo-list">Todo list</h2>
<a href="https://github.com/Lruihao/hugo-blog" target="_blank" rel="noopener noreffer"  class="card-link">
    <span class="card-link-backdrop"></span>
    <span class="card-link-content">
        <span class="card-link-text">
            <span class="card-link-title">hugo-blog</span>
            <span class="card-link-meta">
                <span class="card-link-url">
                    <svg class="Zi Zi--InsertLink" fill="currentColor" viewbox="0 0 24 24" width="17" height="17">
                        <path d="M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z" fill-rule="evenodd"></path>
                    </svg>
                </span>
                https://github.com/Lruihao/hugo-blog
            </span>
        </span>
        <span class="card-link-imageCell">
            
        </span>
    </span>
</a>
<blockquote>
<p>原来 hexo 做了大量的美化和扩展功能，迁移到 hugo 想尽可能多的保留。取之精华，去其糟粕。</p>
</blockquote>
<h3 id="base">Base</h3>
<ul>
<li><i class="far fa-check-square fa-fw"></i> 迁移 hexo 所有文章内容</li>
<li><i class="far fa-square fa-fw"></i> 迁移 hexo 所有页面内容
<ul>
<li><i class="far fa-check-square fa-fw"></i> 留言页面</li>
<li><i class="far fa-check-square fa-fw"></i> 网友打赏支持页面，整合到留言页面</li>
<li><i class="far fa-check-square fa-fw"></i> 重写关于页面，一切从简</li>
<li><i class="far fa-check-square fa-fw"></i> 友情链接页面</li>
<li><i class="far fa-square fa-fw"></i> 重写 404 页面</li>
<li><i class="far fa-square fa-fw"></i> 热度页面整合到 404 页面</li>
<li><i class="far fa-check-square fa-fw"></i> 站点时间和不蒜子计数改到 hello-world 页面</li>
</ul>
</li>
<li><i class="far fa-square fa-fw"></i> 新增页面
<ul>
<li><i class="far fa-square fa-fw"></i> <a href="https://img.lruihao.cn" target="_blank" rel="noopener noreffer">cos-album</a> 和 <a href="https://sz.journey.lruihao.cn" target="_blank" rel="noopener noreffer">🍚饭醉团伙🍷</a> 整合到博客 <code>cos-album/</code></li>
<li><i class="far fa-square fa-fw"></i> 新增 <code>demo/</code>, 以子模组的形式存放前端 demo
<ul>
<li><i class="far fa-square fa-fw"></i> serverless 记账本</li>
</ul>
</li>
</ul>
</li>
<li><i class="far fa-check-square fa-fw"></i> 博客 valine 评论，阅读数迁移，可用 leancloud API 写代码转化(但似乎没必要)</li>
<li><i class="far fa-check-square fa-fw"></i> 博客 SEO 优化迁移</li>
<li><i class="far fa-check-square fa-fw"></i> <code>Github actions</code> 自动部署到 <strong>Github pages</strong> 和 <strong>COS</strong> 脚本编写</li>
<li><i class="far fa-check-square fa-fw"></i> hugo 本地管理 shell 脚本工具编写</li>
<li><i class="far fa-check-square fa-fw"></i> 知乎卡片式链接 改成 hugo shortcodes, 取名 <code>cardlink</code></li>
<li><i class="far fa-square fa-fw"></i> zxm/沐目体 归档 :(
<ul>
<li><i class="far fa-square fa-fw"></i> 安装 沐目体</li>
<li><i class="far fa-square fa-fw"></i> 压缩 沐目体 fontspider</li>
<li><i class="far fa-square fa-fw"></i> 沐目体 post 修订</li>
<li><i class="far fa-square fa-fw"></i> typyit 配合 随机诗词和网易云热评 API</li>
<li><i class="far fa-square fa-fw"></i> 实时预览功能 base on Vuejs</li>
<li><i class="far fa-square fa-fw"></i> [恋爱叙事体] <code>love</code> 归档</li>
<li><i class="far fa-square fa-fw"></i> [光] 归档</li>
</ul>
</li>
<li><i class="far fa-square fa-fw"></i> hugo 内容加密研究</li>
<li><i class="far fa-square fa-fw"></i> <code>Lruihao/hugo-blog/README.md</code> 撰写，发布 1.0.0 版本做完整备份，base on theme version</li>
<li><i class="far fa-square fa-fw"></i> 更换 gravatar 头像</li>
<li><i class="far fa-square fa-fw"></i> 博客在线编辑器研究 github1s 等</li>
</ul>
<h3 id="theme-loveit">Theme LoveIt</h3>
<blockquote>
<p>hugo LoveIt 主题整体优化，<del>必要时建 PR 或 issue 到 LoveIt 仓库</del> (LoveIt 已停更一年多)<br>
先把自己发现和 LoveIt 原 repo 的 issue 尽可能的修复，修改的原则是：<strong>不改动原项目代码</strong>，<br>
唯一途径就是在站点相同的目录用<strong>新增</strong>的方式替代<strong>修改、删除</strong>操作。<br>
之后再等等看作者是否还会更新，如已做大量的更改，再做考虑整合为一个新的主题。</p>
</blockquote>
<ul>
<li><i class="far fa-square fa-fw"></i> CSS 优化，背景，元素圆角化，外圆内方，居中对其等</li>
<li><i class="far fa-square fa-fw"></i> 沐目体引入</li>
<li><i class="far fa-square fa-fw"></i> TOC 序号生成</li>
<li><i class="far fa-square fa-fw"></i> Fix: 无标题时也会生成目录的 BUG</li>
<li><i class="far fa-square fa-fw"></i> subtitle 等细节优化</li>
<li><i class="far fa-square fa-fw"></i> Fix: typeit 打印代码时跑版的问题</li>
<li><i class="far fa-square fa-fw"></i> Fix: 文章 <code>h1</code> 标题多行跑版</li>
<li><i class="far fa-square fa-fw"></i> Code Review</li>
</ul>]]></description></item></channel></rss>